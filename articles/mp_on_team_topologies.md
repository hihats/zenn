---
title: "Team Topologiesの話を聴いた"
emoji: "🕌"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

[Manuel Pais on Team Topologies](https://www.case-podcast.org/47-manuel-pais-on-team-topologies)を聴いて、学びが多かったので思考を整理した。ちなみに[Team Topologies]()は読んでいません。


おそらくですが、私は物忘れもします。そうですね、主な考え方は伝わったと思います。私は長い間、DevOpsを提唱してきましたし、infoQやコンサルティングの仕事もたくさんしてきました。そして、『チーム・トポロジー』という本が出てからというもの、実は今日、この本が出版されてから2周年を迎えたんです。そうですか。私の仕事のほとんどは、トレーニングやコンサルティング、そしてチーム組織やチーム構造、相互作用などについて意見を述べることです。

01:45 The challenge of “two pizza” teams

Host
今はね。2年前にこの本の話を聞いたときは、「面白いかもしれない」と思っていました。マニュエルが書いているのなら、読まなくちゃね。でも、長い間読まなかったんだ。そして今、私はそれを読んだ。そして思ったのは、なぜこの本は15年前に書かれていないのだろう？だって、そうだよね、15年近く前だもんね。それから、フォーカス。AmazonのCTOが、ACMで有名なインタビューをしていました。あなたが作って、あなたが動かす、そんな話をしていました。そして、ほとんどの企業がそのようなアイデアを採用し始めたのは、数年後のことだったと思います。でも、この種の仕事を採用してからというもの、私は問題に直面しています。それは、私が一緒に働いているチームの問題でもあります。そして、あなたは基本的にこれらの問題に、素晴らしい、言うなればボキャブラリーを与えてくれました。そして、本の中であなたが最初に言及しているのは、そのようなチームを結成した場合に何が課題になるかというと、認知的負荷です。自己組織化されたピザチームにおける認知的負荷の問題とは何か、詳しく説明していただけますか？

MP
そうですね、あの有名なインタビューは、チームの適切なサイズとは何か、より速い流れとより多くの自律性を促進するにはどうしたらよいか、ということを人々に考えさせるのに役立ったと思います。また、15年前といえば、アジャイルが少しずつ普及し始めた頃です。ですから、あなたがおっしゃるように、そこにはある種のギャップがあったのだと思います。ジェフ・セスナスからは、**「この本は、チームをどう編成するかというDevOpsの宿題を教えてくれる本だ」** という賞賛の言葉をもらいましたが、文化的な側面やプラクティスはもちろん重要ですが、この部分も重要です。

Verner Vogelが言っていた「Pizzaチーム」の話に戻りますが、この本では基本的に、直感的に理解できるような真実が書かれています。人々は「ああ、これは理にかなっている」と思うのです。もちろん、「ピザの大きさは？しかし、私たちが話しているのは789人のことで、おそらくそれ以上の人数ではないでしょう。」しかし、私たちが行ったことは、この本でも紹介されているように、いくつかのアイデアはかなり昔から存在していましたが、**それらを実際のチーム組織、チーム構造の観点から考察する人はいませんでした**。認知的負荷という考え方は、心理学の分野から来ていますね。ジョン・スウェラーという人が1980年代に定義した認知負荷とは、人が何かの作業をするときに使う精神的な努力の総量のことです。興味深いことに、**ユーザーエクスペリエンス・ユーザーインタラクションに携わる人々は、ユーザーや顧客があるタスクを実行する際に、どのくらいの認知的負荷がかかるのかを考える際に、この認知的負荷の考え方を非常に重視する傾向があります**。たくさんのことを頭に入れておかなければならないときに、その認知的負荷をどのようにして軽減するか。次に何をしなければならないのかを理解するために。つまり、認知的負荷の考え方は、チームレベルでも応用できるということです。なぜなら、チームのメンバーの能力に応じて、頭の中に入れることができる量には限界があることがわかっているからです。このことは、彼らができる仕事に影響を与えます。

特にソフトウェアエンジニアリングでは、チームは様々な方向に引っ張られ、ますます多くのことを求められるようになってきました。サービスのインフラやセキュリティ、自社サービスの構築と運営を求められています。

また、運用面も重要です。これにより、チームの認知的負荷が増大し、しばしば過負荷状態に陥ります。そして、それは本当に難しいことなのです。そこで、チームトポロジーでは、認知的負荷とは何かをよく理解し、認知的負荷をさまざまなタイプの認知的負荷に分けて考えることで、多くのチームが抱える問題に対処できる可能性が高まると考えているのです。

07:00 The three types of cognitive load

認知的負荷には**3つのタイプ**があります。内在的なもの、余計なもの、そして本質的なものです。なぜこれが役に立つかというと、これが何に関連しているかを理解するためです。内在的認知負荷とは、ソフトウェアエンジニアとして、あるいはソフトウェアデリバリーチームの一員として、仕事をするために必要なスキルのことで、ソフトウェアに変更を加えるためのものです。使用する言語やツールなどによって必要なスキルは異なりますが、例えば、銀行アプリケーションのJavaプログラマーの場合は、Javaの知識が必要です。そのためには、Javaについての知識、使用するフレームワークについての知識が必要ですが、それに加えて、サービスを実行するためのインフラをどのように構築するかなども必要になります。このように、あらゆる種類のスキルが必要になりますが、それに加えて、delivery作業の仕組みに関連する外部の認知的負荷があります。もちろん、オペレーションの仕事も同様です。つまり、このサービスをKubernetesにデプロイするにはどうすればいいか、この新しいバージョンでいいか？など、記憶に力を入れる必要があるときはいつでもそうです。あるいは、新しいインフラを作るにはどうすればいいのか？テスト用のデータベースにアクセスするにはどうすればいいのか？受け入れテストを行うにはどうすればいいのか、これらの精神的な努力を必要とするすべてのことは、一種の余計な認知的負荷です。

http://www.ipii.co.jp/archives/blog/%E5%AD%A6%E7%BF%92%E7%A7%91%E5%AD%A6%E3%81%AE%E5%9F%BA%E7%A4%8E%EF%BC%9A%E4%BD%99%E8%A8%88%E3%81%AA%E8%AA%8D%E7%9F%A5%E8%B2%A0%E8%8D%B7%EF%BC%88cognitive-load%EF%BC%89%E3%82%92%E3%81%AA%E3%81%8F/

そして最後に、重要な認知的負荷があります。これは、実際の問題領域に関連するすべてのことを言います。では、私たちは何をしようとしているのでしょうか？例えば、2人のお客様が月々の振替をより簡単に行えるようにするとか、解決しようとしている問題やお客様のために構築しようとしている機能、これらはすべて本質的な部分ですよね？これこそが、私たちが実際に組織や顧客に価値を与えている理由なのです。このように、さまざまな種類の認知的負荷を理解すると、全体的な認知的負荷を軽減するには、内在的な認知的負荷を最小限に抑えることが重要であることがわかります。例えば、ペアプログラミング、より多くのプログラミング、社内でのトレーニング、セッション、契約、従来のトレーニングなど、これらすべてのことが、基本的に人々のスキルアップに役立ち、日常的に行うべきことにギャップがある場合には、内在的な認知的負荷を軽減することができます。そして、外部からの認知的負荷も軽減したいと思います。そこで重要になるのが、余計な認知的負荷の一部を、プロビジョニングやデプロイメント、パイプライン、モニタリングなどを行うための便利なサービスを提供するプラットフォームに移すことです。つまり、すべての人に自分でやってもらい、すべてのスタックをセットアップして、すべての異なるツールについて学んでもらうのではありません。チームのニーズを理解していれば、誰もが使える汎用的なサービスではなく、チームにとって何が必要なのかというニーズに対応した優れたプラットフォームサービスを構築できる可能性が高くなります。

つまり、**余計で内在的な認知負荷を最小限に抑えることができれば、結果的に顧客のニーズに集中するための本質的な能力を高めることができるはず** なのです。


Host
私は、バランスを取ること、つまりバランスを取ることと、それを暴動のようにすることは非常に難しいことだと思います。私は以前、あるお客様と仕事をしたことがありますが、彼らは「DevOpsを導入したい、自分たちでチームを編成したい」と言いました。

ソフトウェアのライセンスを自分たちで買うのか、とか。そして、「いや、そうではないかもしれない」と思ったのです。価格交渉をしてくれる人が必要なのかもしれません。 開発者は、どこかのベンダーと価格交渉をするべきではありません。バランスをとるのは難しいですね。どうやって？**認知的負荷が大きすぎるかどうかは、どうやって知ることができますか？どうやって測定すればいいのでしょうか？**


10:48 Measuring cognitive load

MP
私たちはGitHubのgithub.com/teamtopologiesにいくつかの無料ツールとテンプレートを用意しています。その中の一つに認知負荷評価がありますが、これはあくまでも一例ですよね。なぜなら、本質的な認知負荷について具体的に話をする場合、どの業界でどのような状況で仕事をしているかによって異なるからです。

しかし、ソフトウェアエンジニアリングの分野では、いくつかの共通点があります。実行teamの構築について語るとき、私たちはDevOpsについて語ります。私たちはチームに何を求めているかを知っています。より速く、より自律的に、というと強すぎるかもしれませんが、より自給自足的になってほしいと思うなら、**ライフサイクルのさまざまな側面を理解すること** です。私たちは、機能領域間の引継ぎを減らしたいと考えています。開発はもちろん、設計、テスト、インフラ、セキュリティ、運用など、さまざまな分野の知識をチームで共有したいのです。このようなことをチームに求めるのですから、どのように管理すればよいのかを知る必要があります。

先ほど述べたように、プラットフォームを用意することができます。プラットフォームのアイデアだけでもいいですし、プラットフォーム専門のチームがなくても、プラットフォームとは何かを定義するだけでもいいでしょう。我々がこれらのAWSサービスを使用しているというwikiのページでも良いのです。これはデフォルトのセットアップです。

すなわち、この状況ではそれでもうまく機能するということです。AWSサービスをどのように使えばいいのか、というシンプルな経験だけでも、他のチームを助けることができます。なぜなら、それをチームの目の前に置いて、さあ、パブリッククラウドを使って、何をしなければならないかを見つけてください、と言ったら、あなたの認知的負荷は爆発するからです。人々は圧倒されていると感じる主観的な測定があります。**何かに追われていて、立ち止まってどうすればいいのか考える時間がないと感じるのです**。これは、より直感的に理解できる方法の1つです。チーム構造を決めていない個人貢献者であっても、多くの人がこの本に共感する理由は、この認知的負荷の問題について話しているからです。

また、多くのことを同時に求められていると感じ、より早く機能を提供しなければならないというプレッシャーがあります。これをどうやって管理すればいいのでしょうか？しかし、先ほど言ったように、このような認知的負荷の評価を行うこともできます。GitHubの例では、テスト、デプロイ、ビルド、本番での問題解決、問題の発見や診断など、多くの構築・運営チームに共通するような経験を、チームメンバーに質問しています。

そして、チームに聞いてみましょう。どんな感じですか？簡単ですか？難しいですか？

そして、基本的には1日の終わりに会話をすることから始めます。重要なのは、「私たちの認知的負荷が高すぎるのではないか」という**会話をすること**です。本当に苦労している分野は何か？デプロイメントは非常に骨の折れる作業かもしれません。デプロイに1週間も2週間もかかっているかもしれません。このような場合には、デプロイメントに投資して、より良いアプローチをとるべきだと思います。時間をかけていくつかのことを自動化し、継続的な配信を適切に行う方法をよく理解しましょう。まずはそこから始めようと思っています。

また、認知的負荷をより詳細に評価することにも取り組んでいます。そのために、心理学のバックグラウンドを持つ人たちと協力しています。来年には、単なるアセスメントの例ではなく、**チームが現在の状況を把握するのに役立つシンプルなツールを提供したい** と考えています。

しかし、私がお勧めするのは、たとえチーム内であっても、このようなエクササイズを行うことです。経営陣が関与していても、あるいはチーム内で複数のチームを見ている人がいても、このような議論を始めることができます。


Host
すべてのリンクをショーノートに掲載しました。アンケートは2つの異なる方法で使用しました。1つは大規模なチームで、Googleフォームなどを送信する方法。また、1対1のインタビューを行い、チームの現状や問題点を把握しました。問題は、チームがどこで苦労しているかを理解した上で、私たちは何をすべきかということです。

ある意味、当たり前のことだと思いますが、最初に言ったように、いわば誰もそれを解決したことがないのです。あなたは4つの異なるチームトポロジー、つまり4つの基本的なチームトポロジーを考え出しました。それぞれを簡単に説明していただけますか？

16:44 Stream aligned (“two pizza”) teams

MP
やってみます。私たちが考え出した4つのタイプのチームは、私と、この本を共同執筆したMatthew Skeltonが、顧客を支援したときの経験に基づいています。彼らは通常、DevOpsや継続的なデリバリーに関する支援を求めていました。

そして、どのようなタイプのチームが存在するのか、何を目的としているのか、実際にはほとんど明らかにされておらず、**むしろただ仕事をしている人たちの集団であること** を理解しました。そして、魔法のように一つにまとまることを期待していたのです。だからこそ、チームのタイプを明確にすることが必要なのです。「このチームの顧客は誰ですか？最終顧客でしょうか？組織内の顧客なのか？このタイプのチームに期待される行動は何か。サービスを構築して運営するオーナーシップを期待されているのか、他のチームに教える役割をサポートすることを期待されているのか？」

そこから4つのチームタイプが生まれ、異なるチームがお互いにどのように関係し、助け合うのかをより明確にすることで、ある種の組織として進化し、組織の働き方を改善するだけでなく、組織に価値をより早く提供することができるようになると考えています。


具体的には、まずストリームアラインド・チームを導入しました。つまり、これらは実行チームをベースに作られていると言えるでしょう。しかし、私たちはチームを仕事の流れに沿ったものにすべきだと考えています。つまり、多かれ少なかれ、**可能な限り切り離された仕事の流れは何かを特定する必要があります**。これは明らかに、**バリューストリームを特定するという考えに戻るもの** です。しかし、バリューストリームの中にも、複数のプロダクトがあったり、製品の中に複数のストリームがあったりする場合があります。もっと細かいレベルで言えば、特定のユーザーペルソナに焦点を当てたチームがあるかもしれませんね。例えば、大企業向けの会計ソフトであれば、個人のフリーランスのお客様とは異なるペルソナが存在しますよね。

ですから、そのようなユーザーのペルソナに合わせてストリームを作るのは理にかなっていると思います。しかし、それぞれのストリームについて、別の方法を考えることはできないでしょうか。効果的には、1つのチームが、顧客を理解し、このツリーの顧客は何を必要としているのかというディスカバリーを行い、このサービスやソフトウェアをより大きな製品の一部として、多かれ少なかれ独立して構築し、テストし、デプロイし、実行できるようなサービスやソフトウェアのライフサイクルをエンド・ツー・エンドで所有することを目指しています。依存関係がないというわけではありませんが、ソフトウェアのサービスと同じように、チームを疎結合にするアプローチを試みています。


HOST
例えば、2枚のピザのようなチームですね。


MP
そうですね、基本的にチームのサイズはそのようになっています。通常は7人から9人の間で、それより少ないこともあれば多いこともありますが、チーム内で高い信頼を得て、本当に一体感のあるチームを作るには、このような境界線内に収める必要があります。理想的には、異なるバリューストリーム、異なるプロダクト、異なるストリームを特定し、それにチームを合わせることができるようにします。

しかし、先ほど言ったように、もし他のタイプのチームがなかったとしたら、これらのチームの認知的負荷は非常に高いものになります。そして、求められていることをすべて処理し、機能を提供し、他のすべてのことを学ぶにはどうすればよいかという問題に直面します。そこで、他のタイプのチームが必要になるわけです。

プラットフォームチームは、**必ずしもサービスやツールにフォーカスするだけでなく、むしろプラットフォームをより体験的なものとして捉えています**。もちろん、サービスやツールは必要です。しかし、プラットフォームの体験や使用方法は、チームの認知的負荷を軽減するのにどのくらい役立つだろうか？なぜなら、もしあなたが提供するプラットフォーム・サービスが非常に煩雑で、理解するのが難しく、APIが期待通りに機能しなかったり、サービスがしばしば利用できなかったり、メンテナンス中であったりするとしたら、それはチームの助けにはならないからです。これでは、チームの助けにはなりませんよね。これは、より大きな問題になります。理解するのが難しいこのプラットフォームサービスを使わなければならないのです。

「チーム・トポロジー」で述べられているように、プラットフォーム・チームの出発点は、認知的負荷を軽減することであり、プラットフォームとユーザー・エクスペリエンスに関して非常に高いレベルの開発者の経験を提供することです。そうすれば、余計な認知的負荷をプラットフォームに振り向けることができるようになります。


そしていいことに、プラットフォームチームにとっては、これが彼らの重要な認知的負荷になるのですね。なぜなら、彼らは社内の顧客に役立つことに取り組んでいたからです。継続的デリバリやインフラに関わるプラットフォームチームがあるかもしれませんが、彼らは内部チーム、つまりストリームに沿ったチームの負荷を軽減する手助けをしているのです。

そして、3つ目のタイプのチームがイネーブルチームです。私たちのコンサルティングの経験から、組織内の多くのチームが同じようなギャップを抱えていることがわかりました。それは、効果的なテスト自動化の方法を知らないことかもしれませんし、継続的インテグレーションの方法を知らないことかもしれませんし、ユーザー・エクスペリエンスを知らないことかもしれませんし、分野は問いません。

そして、組織はそうしたチームのニーズを満たすのに苦労します。なぜなら、すべてのチームにユーザーエクスペリエンスの専門家を雇うことはできませんし、すべてのチームにテストオートメーションの専門家を雇うこともできません。そのため、採用に頼るのではなく、社内でチームを結成し、2～3人の専門家を集めるのが理想的です。

このチームは、他のチームをファシリテートしたり、指導したりしています。ペアリングやワークショップ、ビデオベースのトレーニングなど、社内のチームが特定の分野で必要なスキルを身につけるためのあらゆる支援を行います。同時に、イネーブルチームは、ストリームに沿ったチームにとって有用なプラットフォームの機能やサービスを見極めるのにも適した立場にあります。

このようにして、自分たちの目的が何であるかをよく理解し、組織全体の改善にどのように貢献しているかを理解しているさまざまなタイプのチームの、いわばエコシステムのようなものができあがります。


このようにして、自分たちの目的が何であるかをよく理解し、組織全体やチームがより良くなるためにどのように貢献しているのかを理解しているさまざまなタイプのチームが集まった、いわばエコシステムのようなものができあがります。

そして、4つ目のタイプのチームがありますが、実はこれはお勧めできません。奇妙に聞こえるかもしれませんが、これは複雑なサブシステムなのです。例えば、顔認識やリアルタイムの金融取引など、非常に複雑なアルゴリズムや技術を必要とする場合、たとえそれが顧客に直接使用されず、別の流れの一部であっても、そのサブシステムを所有するチームが必要になることがあります。しかし、ストリームに沿ったチームに、これまで話してきたことをすべて伝えた上で、「あなたのサービスでは、この顔認識モジュールも所有しなければなりません」とお願いするのは無理があるでしょう。

このようなことは、博士号レベルの理解を必要とする傾向があるからです。認知的負荷が大きいため、頼らざるを得ないのです。しかし、それを避けることができれば、それに越したことはありません。だから、DevOpsの周りに複雑なサブシステムを作れとか、Kubernetesの周りに複雑なサブシステムを作れと言っているわけではありません。

そうではなく、それらはおそらくプラットフォームタイプのチーム、おそらくその技術を使おうとしているチームに合わせるべきなのです。複雑なサブシステムチームとは、非常にニッチな知識を必要とするサブシステムを構築・運用するチームであり、それを知っている人を簡単に見つけることはできません。

以上、4つのチームタイプをご紹介しました。


HOST
素晴らしい。これで最終的に語彙ができましたね。誰が何をしているのかという語彙があることは、チームについて話すときに非常に役に立つと思います。とはいえ、例えば私はイネーブル・チームで仕事をすることが多いのですが。**イネーブル・チームの問題点は、少なくとも私の経験では、どうすれば象牙の塔にならずに済むか** ということです。

それは一つには、どうやって象牙の塔にならないようにするか、ということです。そしてもうひとつは、本当に役に立つことです。ちょっとした手助けをすることはよくありますが、ティーチングセッションはあっても、ワークショップだけでは十分ではありません。チームと密接に連携しなければなりません。

これが、私が目にする2つの苦悩です。それを避けるにはどうすればいいのでしょうか？


MP
それは良い点ですね。また、もうひとつ付け加えるとすれば、イネーブルチームが、ストリームに沿ったチームの仕事を遂行する上で、依存関係になってしまうことは避けたいものです。私たちのアプリケーションのために新しいインフラを作るのに、イネーブルチームに頼まなければならないようなイネーブルチームは、私たちが話しているようなイネーブルワークではありません。しかし、何が良い方法なのかを見つける必要があるでしょう。

チームをどの程度支援する必要があるのかという点では、実際には、本の中で設定したように、チームの周りを回るのが良いと思います。つまり、例えばテスト自動化を実現するチームを期待しているわけではないということです。もっと具体的に言うと、例えば同じようなチームがあって、彼らがテスト自動化の経験を持っていないとします。このチームが数週間でテスト自動化のすべてを学ぶことは期待できません。それが普通だと思います。ですから、それはあまり効果的ではありません。もっと効果的なことがあります。**イネーブル・チームが力を発揮するのは、チームの現状に合わせることです**。

もし、このチームがほとんど知識を持っていないとしたら、まずは基本的なことから始めましょう。テスト自動化ツールにはどんなものがあるのか？なぜ、ユーザーインターフェースでの詳細なアクションではなく、より高いレベルのシナリオで作業する必要があるのかなど、良い自動化テストを作るための基本的な知識を身につけましょう。すべてを教えようとするのではなく、2週間ほどかけて、彼らを助け、教え、いくつかの例でペアを組むことにしましょう。そして、2ヶ月後に戻ってきて、彼らがどうなっているかを見てみましょう。

これらのアイデアを日々の仕事に応用することができたのか、そしてそれはどうなっているのか。また、テストの数が多すぎて、パイプラインでの実行に時間がかかりすぎるなど、ある時点で別の課題が出てくるでしょう。そのため、テストをより独立したものにしたり、パフォーマンスを向上させたりすることを考える必要があります。

チームが多くの助けを必要としている分野の場合は特に、イネーブリングチームは、このチームが今ここにいることを理解して、少しずつ助けていくべきです。彼らはこの助けを必要としています。そして、3ヶ月後には、次のステップのための支援が必要になる。これが、人々が私たちに尋ねることとの大きな違いの1つですが、これは**センター・オブ・エクセレンス型のアプローチ**であり、象牙の塔型のアプローチなのでしょうか？

つまり、イネーブリング・チームは現場にいるということですね。そのチームが何を必要としているかを理解することです。彼らは今どこにいるのか？どうすれば彼らを助けることができるのか？先ほどの象牙の塔のように、「これは誰もが従うべきグッドプラクティスだ」というものではありません。また、このようなアーキテクチャを採用し、Infrastructure as Codeを行うべきだとも言えます。

役に立たないと言っているわけではありません。チームはすでに過負荷状態です。ガイドラインを受け取って、それによって自分の仕事がどう変わったかなどを学ぶことを、どうやって期待するのでしょうか。ですから、依存関係にならないように、非常にハンズオン的なアプローチをしています。私たちは他のチームと一緒に教え、他のチームを助けていますが、彼らのために仕事をしているわけではありません。

彼らのために納品作業をするわけではありません。

彼らが学び、知識を向上させるのを助けているのです。しかし、そのバランスをとるのは簡単ではありません。


HOST
私が経験した中でとても良かったのは、あなたがおっしゃったように、彼らと本当に話し合うことでした。つまり、何かを思いついて、それを壁に投げつけるのではなく、各チームの問題レベルを本当に理解しようとすることです。

なぜなら、ただ単に「これは何かだ」と言うだけでは・・・、みんなが**「そうだね」と言うだけ**だからです。


MP
私には3人の小さな子供がいますが、例え話が好きで、一番上の子は6歳で、もうすぐ7歳になります。この例えは、私たちが彼の宿題を手伝うことです。もし彼が問題を抱えていたら、「7＋6はいくら？もちろん、私は彼に「13だよ」と言って書き留めることができますが、それでは次に別の宿題が出たときに彼を助けることはできません。

専門家と呼ばれる人たちにとっては、経験したことがあるので、当たり前のことなので、簡単ではありません。しかし、彼の頭の中の思考プロセスを理解するには、その計算をするのに何が難しいのか？この2つの数字を足す方法を知っているかどうか、といったことから始めなければなりません。

頭の中でどうやって計算するのか？相手や他のチームがどこにいるのかを理解しなければなりません。それは象牙の塔では通常行われないことです。みんなが同じであることを期待しているだけです。このようなやり方を採用すればいいのです。しかし、実際にはそれほど簡単ではありません。


HOST
もうひとつ興味深かったのは、例えば、enablingチームがたくさんある場合、あなたが言ったように、私たちは過負荷状態にあるということです。ストリーム・アラインド・ツー・ピッザのチームであれば、たくさんのことを抱えています。例えば、あるチームのパフォーマンステストとキャパシティテストを手伝ったことがあるのですが、彼らは本当に遠かった。毎晩のように自動化されたパフォーマンステストなどを行っていました。しかし、他の多くの分野、例えば統合テストのような通常のテストの自動化や、セキュリティについては、基本的にゼロに近い状態でした。彼らはあまり興味を示さず、他のenablingチームを妨害するだけでした。

ですから、基本的にはチームが本当に必要としているものを全体的に理解する必要があります。多くのセキュリティを必要としているのか？あれもこれも必要なのか？あれもこれも必要なのか？なぜなら、イネーブリングチームは、ある時点で立ち止まり、「よし、我々はもっとうまくやれるはずだ」と言う必要があるからです。まだまだ改善しなければならないところがあります。


MP
そうですね。一方では、チームが自分たちの知っていることにより多くを頼るのは自然なことでもあります。つまり、この例では、パフォーマンステストのやり方を知っているので、そちらに重点を置いています。だからこそ、まず認知的負荷の側面を理解することが重要なのです。認知的負荷とは、スキルがないためにやっていない分野をただ見ている、という意味でもありますね。

知識がないために統合テストを行っていないとか、他にもあります。そういったさまざまな領域を改善していきたいですね。また、極端な例もあると思います。昨日のTwitterのスレッドを思い出しましたが、ある組織では、文字通りクロスファンクショナルなチームを持っていることを、UXの専門家1人、テスト自動化の専門家1人、パフォーマンステストの専門家1人などのチームが必要だと考えているようですね。

その結果、15人のチームになってしまうのですが、それは問題ではありません。そのために必要なのは、チームはそれぞれ異なるということをまず理解することです。あるチームではテストに問題があり、またあるチームではアーキテクチャに問題がある、などです。ですから、すべてのチームを同じように扱おうとしても、うまくいかないのです。

チームごとに異なるギャップを理解し、段階的に支援していく必要があると思います。全員がすべての専門家になるとは言いませんが、ギャップを見極める必要があります。例えば、あなたの例では、このチームには統合テストに関するギャップがあるとします。これは、複数のチームにまたがって存在するギャップなのでしょうか？
Enablingチームを用意することに意味があるのかもしれませんし、もしそれが個々のチームだけであれば、どのように対処すればいいのでしょうか。

チームのスピードを上げるために、誰かを雇うことを考えるかもしれません。あるいは、別のストリームalignedチームで統合やテストのアプローチがうまくいっている人を使って、ファシリテーターとして仕事をすることもできるでしょう。


ギャップをなくすためには、さまざまな方法が考えられますね。実際、この本が出版されてからの私の経験では、イネーブルチームは、より多くの疑問を生み出すチームのタイプのひとつです。なぜイネーブル・チームに投資しなければならないのか、明確になっていない組織もあります。

そもそもイネーブルチームを作らなくてもいいのではないでしょうか。本の中では、**インタラクション・モードについて** も触れています。

つまり、他のストリームalignedチームにいる人が、ファシリテーターとして他のチームを助けることができるのです。他のチームがこの分野について学ぶのを助けるために、2週間とか1週間に1日とか、意味のあることを2、3ヶ月間続けるのです。

これがファシリテーションと呼ばれるものです。プラットフォームチームは、インフラの自動化などの専門家でもあるので、**場合によってはイネーブリングも行います**。彼らは、単にプラットフォームを使うだけでなく、例えばインフラストラクチャの自動化に関するグッドプラクティスを理解するために、ストリームalignedチームを支援することができます。

つまり、チーム内のギャップに対処する必要があるという考え方ですね。そのためには、人に頼って自由に学習するのではなく、スキルアップの方法を見つける必要があります。これでは拡張性がありません。そして、それぞれのギャップに合った方法を見つけ出すのです。**イネーブルチームが必要なのか、それともストリームに沿った別のチームの助けやファシリテーションが必要なのか、あるいはプラットフォームチームの助けが必要なのか**、などなど。

つまり、さまざまな方法があるということです。確信が持てない場合は、イネーブリングチームを作る必要がありますが、**それは必ずしも専任チームである必要はなく、最初に何らかのファシリテーションを行うだけでも構いません**。


Host
プラットフォームとプラットフォームチームの話が出ましたね。各社ともプラットフォームチームを持っているようですが、このプラットフォームチームが何をしているのかは、必ずしも明確ではありません。単に生のインフラを提供したり、アカウントを作成したり、Kubernetesのメンテナンスをしたりするだけなのか。では、プラットフォームチームは何をしているのでしょうか？目的は何なのか？


MP
よく見かけるのが、プラットフォームチームです。「プラットフォーム」という言葉は、明らかに過剰な表現です。しかし、より自給自足的で、より独立して成果を出せるようなストリームにalignedチームを作るということであれば、**仕事の実行中に依存関係があってはいけないのです**。

他のチームに依存して、インフラをプロビジョニングしてもらったり、ファイアウォールやファイアウォールのポートを開いてもらったり、こういった**リクエストベースの作業をしてもらっては困ります**。つまり、チームトポロジーのプラットフォームチームは、**リクエストに応えたり、他のチームに代わって何かをしたり、サービスの運用面を維持したりするチームではない** のです。

彼らが行っているのは、プラットフォームを製品として扱うことです。つまり、顧客である社内のチームに、プラットフォームサービスという形で製品を提供しているという考え方です。私たちが何かの製品を使って生活を便利にするように、彼らもこの製品を使って生活を便利にすることができるはずです。その際、実行作業の面でプラットフォームチームに直接依存することはありません。

なぜなら、依存関係が増えるだけで、リクエストに対応する**プラットフォームチームが優先順位をつけなければならないという問題が発生し、チームが他のチームを待っているという矛盾が生じ**てしまうからです。

高速なフローを実現するためには、このような状況から脱却しなければなりません。このプラットフォームには、**新しいものではなく**、かなり長い間存在してきた製品アイデアがあります。Pivotal LabsやRed Hatなどの関係者がこの製品について語っています。このプラットフォームは、非常に高いユーザーエクスペリエンスと簡単な操作性を備え、社内チームのニーズに対応する方法で提供されますが、ブロック依存ではありません。

プラットフォームチームがやってくれるのを待っているわけではないのです。そこで、Enabling-teamsの話にも戻ります。チームがプラットフォームを使用する前に、インフラについてもっと理解する必要があります。しかし、プラットフォーム・サービスは、認知的な負荷を軽減しながら、そのような作業を支援してくれます。


HOST
プロダクトにすべきだと言われれば、読んだときには、ああ、そうかと思いました。でも、これは本当に難しい。製品があって、社内に顧客がいて、プロダクトマネージャーが必要だと思うんです。サービスサポートも必要でしょう。自分がやらなければならないことをすべて考えなければならないのです。

以前、Nickiが話していたのですが、コミュニティの努力も必要だと思います。ここでも "象牙の塔 "ですね。私は、何が役に立つのかを考えていません。私の場合は、社内のプロダクトマネージャーが、社内の顧客と話をして、ロードマップを考えたりしています。

そして、そのロードマップを社内のお客さま全員で検証し、何かを実行する。とても難しいことだと思いますが、おそらく唯一の方法だと思います。


MP
ところで、Nikki Watts氏は、プラットフォームがサービスを提供するコミュニティに焦点を当てているという、あなたが言った素晴らしい講演をしています。実は、私がまだInfoQでDevOpsのリーダーとして働いていたとき、最後にキュレーションした記事のひとつが、この講演をもとにした彼女の記事でした。この記事は、ショーノートに追加することができますので、お勧めします。そうですね、この種のプラットフォームチームにとっての主な困難の1つは、製品管理アプローチの欠如です。この種のプラットフォームの技術的な詳細を理解している製品担当者を見つけるのは容易ではありません。しかし、これは非常に重要なことです。私たちはよくお客様に、ジュニア・プロダクトマネージャーをプラットフォームに配置するのではなく、おそらく**最高の、より経験豊富なプロダクトマネージャーをプラットフォームに配置することをお勧めしています**。

本の中では、明らかにあまり多くのことを語れませんでした。
しかし、現在、Team Topologies Academyで「Platform as a Product」というビデオベースのトレーニングを公開しようとしています。これは、おそらくプラットフォームチームに関する他のコースの最初のものになるでしょう。

しかし、まず最初に必要なのは、製品や考え方をプラットフォームに適用することですね？つまり、組織内にはさまざまなタイプの顧客がいることを理解し、製品の採用ライフサイクルを理解する必要があるのです。最初のバージョンのサービスをプラットフォームに載せても、誰もがそれに飛びつくわけではありませんから、他のチームが採用する際に何が摩擦になるかを理解する必要があります。

あなたがおっしゃるように、強力なプロダクトマネジメントが必要ですが、同時に、やり過ぎないように注意することも必要です。また、巨大なロードマップを持つプラットフォームチームに、ストリームアラインドチームがやってきて、「これを手伝ってほしい」と言ってくるのを見たことがあります。

そうすると、「半年間は忙しいし、それではお客様に目を向けられないじゃないか」と言われてしまいます。そうでしょう？
 だから、気をつけないといけない。そういう匂いがするんですよね。もし、プラットフォームチームとして忙しすぎるために、ストリームalignedチームと会話ができないとしたら、それは何か間違ったことをしているのではないでしょうか。

ロードマップが半年や1年のもので、軌道修正の柔軟性がないとしたら、それもまた何かが間違っているのではないでしょうか。


HOST
そうですね。ショーノートには、皆さんのコースへのリンクもすべて掲載しています。質問がたくさんあるので、そちらをご覧になると思います。

最後にもうひとつ、プラットフォームに関する質問です。私はいつも、プラットフォームとは「X-as-a-service」や「セルフサービス」のようなものだと思っています。それは本当ですか？プラットフォームは常にセルフサービスであるというのは？


MP
イエスでもありノーでもあります。それは、プラットフォームの目標、働き方のようなものですよね。つまり、プラットフォームのサービスを、サービスごとに言うと、使いやすく、初めての人にもわかりやすいレベルにするために、適切なドキュメントを用意しています。基本的には、AWSのサービスに期待されることですね。少なくとも、Google Cloudやこれらの大手プロバイダーで提供されているようなサービスではありませんが。

あなたが期待しているのは、X-as-a-serviceの形でサービスを利用することです。実際にAWSのエンジニアと話をしなくても、セルフサービスで、仕組みを理解し、サンプルを見て、使えるようになることです。それが目標ですが、それに加えて、もう一つの相互作用が必要です。それは、ストリーム・アラインド・チームとしてのプラットフォーム間のコラボレーションです。なぜなら、新しいニーズが発生したとき、ストリーム・アラインド・チームが、あるいはイネーブル・チームがプラットフォーム・チームに、「ここにはギャップがあるので、プラットフォームが何らかの機能やAPIで助けてくれると思う」と言うからです。プラットフォームチームは、ストリーム・アラインドチームである顧客と、アジャイルな方法でコラボレーションする必要があります

迅速なフィードバックを得て、プロトタイプを作ります。要件を確認し、3ヶ月かけて「これでいいですか？"ああ、いや、実はお互いに誤解していたんだ "となる前に。プラットフォームでは、そのようなことが起きないようにしなければなりません。プラットフォームのチームは、ストリームアラインドチームとして、実際に顧客に対して同じように働いてほしいのです。

つまり、プラットフォームは実際にはチームのグループになっていて、特にプラットフォームが成長すると、プラットフォーム自体の中に異なるサービスやストリームが存在するようになります。まるでロシア人形のようですね。プラットフォームの中にも同じようなチームがあり、継続的なデリバリーサービスに関連するチームと、プロビジョニングサービスに関連するチームがあるかもしれませんし、データレベルやビジネスレベルのサービスがあるかもしれません。


Host
観測性などですね。


MP
しかし、プラットフォームチームの典型的なインタラクションモードは、この2種類です。コラボレーション：チームが必要とするために、サービスに変更を加えたり、新しいサービスを作ったり、新しい機能を追加したりする必要があります。また、他のチームがX-as-a-Service方式で利用できるようにするには、いつ頃が良いのかを理解するためにも、コラボレーションが必要です。

この2つを常に交互に繰り返すことになりますね。安定していて使いやすいサービスがあったとしても、新しい機能が追加されたとしましょう。

そこで、再びコラボレーションモードに入るわけです。そして、少なくともその機能については、再び使えるようになるまで、このサイクルとフィードバックが必要であることを理解する必要があるのです。

そして、「これはX-as-a-Serviceだ」ということになるわけです。そして、それがどれだけ優れたサービスなのかを、自分でモニターする方法があります。この機能やサービスが社内で一般的に利用できるようになったと言っても、サポートの依頼が多くなり、使い方がわからなかったり、エラーが多発したりすると、「X-as-a-Serviceにするのが早すぎたのではないか」ということになります。今一度、何が起きているのかを理解する必要があります。


Host
また、X-as-a-Serviceを常に考え出すのは非常に難しいことです。プラットフォームのことを考えると、Kubernetesを使っているのに、今度は誰かがAWS Lambdaを使いたいと言い出した、とかね。そして、彼らが、ああ、それを使いたいと言って、よし、何か作ってやろうと言っても、使えるようになるまで、永遠にかかってしまうのです。

だから、段階的にやっていく方が簡単だと思います。「いいですか、私たちは本当にあなたをスピードアップしました。私たちはすべてを理解しなければなりませんでした。そして、コラボレーションの間に、何かを自動化したり、サービスとして提供したりする必要性があるかどうかを確認します。

そして、サービスがあれば戻ってくる、ということですね。あなたが言っているのは、もしサポートチケットが多すぎたら・・・ということですね。


MP
プラットフォームチームはまず、ストリームに沿ったチームの意見に耳を傾け、優先順位をつける必要があります。もちろん、優先順位はニーズに基づいたものであり、「みんながKubernetesを使っているから、自分も使わないといけない」というものではありません。しかし、優先順位付けはニーズに基づいて行われます。実際にAWS lambdaの必要性があるのか？

もし、ストリームラインチームからリクエストがあった場合、まず耳を傾け、なぜそれが必要なのかを理解しようとする必要があります。その上で、優先順位をつける必要があります。

繰り返しになりますが、プラットフォームが成功すれば、どのチームからも多くの要望が寄せられるようになるので、それを実現するには優れたプロダクトマネジメントが必要です。例えば、ストリームラインのチームが、別のツールや別のアプローチが必要だと考えている場合があります。彼らには、それが価値をもたらすと信じているからこそ、自分たちでコストをかけて実行するという選択肢があるべきなのです。 では、「いや、それはプラットフォームチームにしかできないことだ」と言って止めてはいけません。インフラに関わることだから」と言ってはいけません。




そうではありません。ストリームalignチームが、新しいアプローチを開拓することは可能ですし、それはとても意味のあることです。他のチームの人が聞いたからといって、プラットフォームチームがいろいろな新しいツールを試すことに意味があるのでしょうか？**それは、プラットフォームチームの目的ではありません**。

プラットフォームチームは、製品の優先順位付けや顧客の声に耳を傾けるなど、今日チームが行っている作業に基づいて特定のニーズを支援するべきですが、プラットフォームを製品として扱い、優先順位をつけ、顧客の声に耳を傾けることはもちろんですが、ストリームアラインドチームが率先して、ニーズやリクエストを最初に受けたものに先駆的に対応することも止めてはいけません。

あるクライアントの例ですが、彼らはさまざまな業界の広告を扱っています。そのため、さまざまな業界のチームを組織しています。そして、あるチームは、広告に動画を掲載する最初のチームになる必要がありました。普通なら、動画処理をサポートするプラットフォームの一部として意味があるかもしれないと思うでしょう。**しかし、あるチームのためにプラットフォームチームにこれを依頼することは、今は意味がありません**。そこで、ストリームアラインドのチームが率先して、自分たちのニーズに合わせてこれを行うべきなのです。そのうち、他のチームにも必要になるかもしれません。その時に、このコードをプラットフォームに入れて、他の多くのチームが使えるようにすることで、コード間のコモディティ化というか、そういうことができるかどうかを考えます。結局のところ、「これはプラットフォームチームにしかできない」というような非常に厳しい境界線を設けずに、必要なことを実現し、実行するためのより良い方法を見つけるということです。

Host
そうですね。さて、そろそろ終わりに近づいてきましたね。インタラクション・モードについてはすでに言及され、基本的には説明されましたが、実際のモードがどのように存在するのか、あるいはどのようなものなのかを知るために、少しまとめてみるのも良いかもしれません。あるいは何をすべきか


MP
このモードについては、3つの話があります。1つ目は「協力」ですが、より明確に定義されているという意味です。つまり、単なるオープンエンドの協力ではないということです。チームが「他のチームと協力しています」と言うことがあります。しかし、本当の意味では、あるチームと関係を持ち、時には一緒に仕事をすることもあるのです。私たちはコラボレーションを、2つのチームが特定の期間、特定の目的のために協力することと定義しています。例えば、デプロイメントを自動化する方法を見つけなければならない、とかね。しかし、それは何でもいいのです。つまり、特定の問題を解決するためのコラボレーションです。次にファシリテーターですが、これはイネーブルチームの典型的な例と述べましたが、ストリーム・アラインド・チーム間でも起こり得ます。

チームとは別に、流れに沿ったチームの間でも起こりえます。あるチームがある分野の専門知識を持っていて、別のチームが助けを必要としているときには、ファシリテーションを行うことができます。ここでも、決められた期間（変更することもできますが）の間、これはオープンエンドの相互作用ではなく、2週間かかることを想定しています。

私たちは絶対的な専門家ではないので、たとえあなたのことを最も批判したとしても、絶対的な専門家になることはないと思います。


HOST
それでは、最後に2つほど質問させてください。私はスタートアップのような小さな組織を知っています。何を採用すればいいですか？プラットフォームチームはお金も何もありませんが、小さな組織で働く私には何ができるでしょうか？


MP
