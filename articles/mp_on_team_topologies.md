---
title: "Team Topologiesの話を聴いた"
emoji: "🕌"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---

[Manuel Pais on Team Topologies](https://www.case-podcast.org/47-manuel-pais-on-team-topologies)を聴いて、学びが多かったので思考を整理した。ちなみに[Team Topologies]()は読んでいません。


おそらくですが、私は物忘れもします。そうですね、主な考え方は伝わったと思います。私は長い間、DevOpsを提唱してきましたし、infoQやコンサルティングの仕事もたくさんしてきました。そして、『チーム・トポロジー』という本が出てからというもの、実は今日、この本が出版されてから2周年を迎えたんです。そうですか。私の仕事のほとんどは、トレーニングやコンサルティング、そしてチーム組織やチーム構造、相互作用などについて意見を述べることです。

01:45 The challenge of “two pizza” teams

Host
今はね。2年前にこの本の話を聞いたときは、「面白いかもしれない」と思っていました。マニュエルが書いているのなら、読まなくちゃね。でも、長い間読まなかったんだ。そして今、私はそれを読んだ。そして思ったのは、なぜこの本は15年前に書かれていないのだろう？だって、そうだよね、15年近く前だもんね。それから、フォーカス。AmazonのCTOが、ACMで有名なインタビューをしていました。あなたが作って、あなたが動かす、そんな話をしていました。そして、ほとんどの企業がそのようなアイデアを採用し始めたのは、数年後のことだったと思います。でも、この種の仕事を採用してからというもの、私は問題に直面しています。それは、私が一緒に働いているチームの問題でもあります。そして、あなたは基本的にこれらの問題に、素晴らしい、言うなればボキャブラリーを与えてくれました。そして、本の中であなたが最初に言及しているのは、そのようなチームを結成した場合に何が課題になるかというと、認知的負荷です。自己組織化されたピザチームにおける認知的負荷の問題とは何か、詳しく説明していただけますか？

MP
そうですね、あの有名なインタビューは、チームの適切なサイズとは何か、より速い流れとより多くの自律性を促進するにはどうしたらよいか、ということを人々に考えさせるのに役立ったと思います。また、15年前といえば、アジャイルが少しずつ普及し始めた頃です。ですから、あなたがおっしゃるように、そこにはある種のギャップがあったのだと思います。ジェフ・セスナスからは、**「この本は、チームをどう編成するかというDevOpsの宿題を教えてくれる本だ」** という賞賛の言葉をもらいましたが、文化的な側面やプラクティスはもちろん重要ですが、この部分も重要です。

Verner Vogelが言っていた「Pizzaチーム」の話に戻りますが、この本では基本的に、直感的に理解できるような真実が書かれています。人々は「ああ、これは理にかなっている」と思うのです。もちろん、「ピザの大きさは？しかし、私たちが話しているのは789人のことで、おそらくそれ以上の人数ではないでしょう。」しかし、私たちが行ったことは、この本でも紹介されているように、いくつかのアイデアはかなり昔から存在していましたが、**それらを実際のチーム組織、チーム構造の観点から考察する人はいませんでした**。認知的負荷という考え方は、心理学の分野から来ていますね。ジョン・スウェラーという人が1980年代に定義した認知負荷とは、人が何かの作業をするときに使う精神的な努力の総量のことです。興味深いことに、**ユーザーエクスペリエンス・ユーザーインタラクションに携わる人々は、ユーザーや顧客があるタスクを実行する際に、どのくらいの認知的負荷がかかるのかを考える際に、この認知的負荷の考え方を非常に重視する傾向があります**。たくさんのことを頭に入れておかなければならないときに、その認知的負荷をどのようにして軽減するか。次に何をしなければならないのかを理解するために。つまり、認知的負荷の考え方は、チームレベルでも応用できるということです。なぜなら、チームのメンバーの能力に応じて、頭の中に入れることができる量には限界があることがわかっているからです。このことは、彼らができる仕事に影響を与えます。

特にソフトウェアエンジニアリングでは、チームは様々な方向に引っ張られ、ますます多くのことを求められるようになってきました。サービスのインフラやセキュリティ、自社サービスの構築と運営を求められています。

また、運用面も重要です。これにより、チームの認知的負荷が増大し、しばしば過負荷状態に陥ります。そして、それは本当に難しいことなのです。そこで、チームトポロジーでは、認知的負荷とは何かをよく理解し、認知的負荷をさまざまなタイプの認知的負荷に分けて考えることで、多くのチームが抱える問題に対処できる可能性が高まると考えているのです。

07:00 The three types of cognitive load

認知的負荷には**3つのタイプ**があります。内在的なもの、余計なもの、そして本質的なものです。なぜこれが役に立つかというと、これが何に関連しているかを理解するためです。内在的認知負荷とは、ソフトウェアエンジニアとして、あるいはソフトウェアデリバリーチームの一員として、仕事をするために必要なスキルのことで、ソフトウェアに変更を加えるためのものです。使用する言語やツールなどによって必要なスキルは異なりますが、例えば、銀行アプリケーションのJavaプログラマーの場合は、Javaの知識が必要です。そのためには、Javaについての知識、使用するフレームワークについての知識が必要ですが、それに加えて、サービスを実行するためのインフラをどのように構築するかなども必要になります。このように、あらゆる種類のスキルが必要になりますが、それに加えて、delivery作業の仕組みに関連する外部の認知的負荷があります。もちろん、オペレーションの仕事も同様です。つまり、このサービスをKubernetesにデプロイするにはどうすればいいか、この新しいバージョンでいいか？など、記憶に力を入れる必要があるときはいつでもそうです。あるいは、新しいインフラを作るにはどうすればいいのか？テスト用のデータベースにアクセスするにはどうすればいいのか？受け入れテストを行うにはどうすればいいのか、これらの精神的な努力を必要とするすべてのことは、一種の余計な認知的負荷です。

http://www.ipii.co.jp/archives/blog/%E5%AD%A6%E7%BF%92%E7%A7%91%E5%AD%A6%E3%81%AE%E5%9F%BA%E7%A4%8E%EF%BC%9A%E4%BD%99%E8%A8%88%E3%81%AA%E8%AA%8D%E7%9F%A5%E8%B2%A0%E8%8D%B7%EF%BC%88cognitive-load%EF%BC%89%E3%82%92%E3%81%AA%E3%81%8F/

そして最後に、重要な認知的負荷があります。これは、実際の問題領域に関連するすべてのことを言います。では、私たちは何をしようとしているのでしょうか？例えば、2人のお客様が月々の振替をより簡単に行えるようにするとか、解決しようとしている問題やお客様のために構築しようとしている機能、これらはすべて本質的な部分ですよね？これこそが、私たちが実際に組織や顧客に価値を与えている理由なのです。このように、さまざまな種類の認知的負荷を理解すると、全体的な認知的負荷を軽減するには、内在的な認知的負荷を最小限に抑えることが重要であることがわかります。例えば、ペアプログラミング、より多くのプログラミング、社内でのトレーニング、セッション、契約、従来のトレーニングなど、これらすべてのことが、基本的に人々のスキルアップに役立ち、日常的に行うべきことにギャップがある場合には、内在的な認知的負荷を軽減することができます。そして、外部からの認知的負荷も軽減したいと思います。そこで重要になるのが、余計な認知的負荷の一部を、プロビジョニングやデプロイメント、パイプライン、モニタリングなどを行うための便利なサービスを提供するプラットフォームに移すことです。つまり、すべての人に自分でやってもらい、すべてのスタックをセットアップして、すべての異なるツールについて学んでもらうのではなく、自分でやってもらうのです。チームのニーズを理解していれば、誰もが使える汎用的なサービスではなく、チームにとって何が必要なのかというニーズに対応した優れたプラットフォームサービスを構築できる可能性が高くなります。

つまり、**余計な内在的認知負荷を最小限に抑えることができれば、結果的に顧客のニーズに集中するための本質的な能力を高めることができるはず** なのです。


Host
私は、バランスを取ること、つまりバランスを取ることと、それを暴動のようにすることは非常に難しいことだと思います。私は以前、あるお客様と仕事をしたことがありますが、彼らは「DevOpsを導入したい、自分たちでチームを編成したい」と言いました。

ソフトウェアのライセンスを自分たちで買うのか、とか。そして、「いや、そうではないかもしれない」と思ったのです。価格交渉をしてくれる人が必要なのかもしれません。 開発者は、どこかのベンダーと価格交渉をするべきではありません。バランスをとるのは難しいですね。どうやって？**認知的負荷が大きすぎるかどうかは、どうやって知ることができますか？どうやって測定すればいいのでしょうか？**


10:48 Measuring cognitive load

MP
そうそう、GitHubのgithub.com/team topologiesには無料のツールやテンプレートがいくつかあります。その1つが controversial assessment です。でも、これはあくまでも例ですよね？なぜなら、本質的な認知的負荷について具体的に話す場合、どの業界でどのような状況で仕事をしているかによって異なるからです。しかし、ソフトウェアエンジニアリングの分野では、いくつかの共通点があります。

実行チームの構築やDevOpsの話をしていますが、チームをより速く、より自律的に（強引かもしれませんが）、より自足的にしたい場合、**チームに求めているのは、ライフサイクルのさまざまな側面を理解することであり、機能領域間の引継ぎを減らしたい** のです。

つまり、開発はもちろん、設計、テスト、インフラ、セキュリティ、運用などをチームで理解してもらいたいのです。このようなことをチームに求めるわけですから、どのようにすれば管理しやすいかを考えなければなりません。先ほど述べたように、ある種のプラットフォームを用意することができます。プラットフォームのアイデアだけでも、専門のプラットフォームチームがなくても、自分たちのプラットフォームが何であるかを定義することができます。これはwikiページでも構いませんが、「私たちはこのAWSサービスを使用していて、これはある種のデフォルト設定で、この状況でうまく機能しています。」といったものです。

AWSサービスをどのように使えばいいのか、このようなシンプルで精選された経験だけでも、他のチームを助けることができます。なぜならば、それをチームの前に置いて、パブリック・クラウドを使っていて、何をしなければならないかを知るだけでは、認知的負荷が爆発してしまうからです。つまり、主観的な測定では、人々は圧倒されていると感じ、**私たちはただ物事に追われていて、立ち止まってどうすれば良いか考える時間がないと感じているのです**。多くのチームで、チーム構成を決めていない個人貢献者でさえ、この本に共感する人が多いのは、この認知的負荷の問題について話しているからです。彼らは、同時に多くのことを求められているように感じ、より早く機能を提供しなければならないというプレッシャーを感じています。これをどうやって管理すればいいのでしょうか？

GitHubでは、基本的にチームメンバーが、テスト、デプロイ、本番での問題解決、問題の発見、診断など、多くの構築・運営チームに共通する経験豊富なエンジニアの経験について質問することができます。そして、チームに「どう感じますか？簡単ですか、それとも難しいですか？」といった具合に、1日の終わりに会話をすることから始めます。重要なのは、彼が言うように、低いところから高いところまで、本当に苦労しているところはどこか、デプロイに1週間も2週間もかかるのは非常につらいので、そこに投資して、デプロイにもっと良いアプローチをとるべきだと思う、継続的デリバリを適切に行う方法を理解するために、時間をかけていくつかのことを自動化しよう、などといった**会話をすることです**。

また、認知的負荷をより詳細に評価することにも取り組んでいます。心理学のバックグラウンドを持つ人たちと協力しています。来年には、単なる評価例ではなく、チームが現状を把握するのに役立つシンプルなツールを提供できるようにしたいと考えています。チーム内でも、このようなエクササイズを行うことをお勧めします。経営陣やチーム内の複数のチームを見ている人でも、このような議論を始めることができます。


Host
さて、実際には、ショーノートにもリンクを貼っていますが、あなたのアンケートを2つの方法で使っています。1つは、大きなチームでGoogleフォームのようなものを送信します。また、1対1のインタビューを行い、皆さんが何に悩んでいるのかを理解するようにしています。そして、問題は、チームがどこで苦労しているかを理解した上で、彼らに何をすればいいのかということです。そうですね。ある意味、当たり前のことだと思います。しかし、先ほど言ったように、**最初は誰もが、いわばなし崩し的に仕事をしたわけではありません**。あなたは4つの異なるチームトポロジー、あるいは4つの基本的なチームトポロジーを考え出しました。聞かせてもらえますか？はい。そうですね。それらを簡単に説明してください。


16:44 Stream aligned (“two pizza”) teams

MP
やってみます。私たちが考え出した4つのタイプのチームは、私と、この本を共同執筆したMatthew Skeltonが、顧客を支援したときの経験に基づいています。彼らは通常、DevOpsや継続的なデリバリーに関する支援を求めていました。

そして、どのようなタイプのチームが存在するのか、何を目的としているのか、実際にはほとんど明らかにされておらず、**むしろただ仕事をしている人たちの集団であること** を理解しました。そして、魔法のように一つにまとまることを期待していたのです。だからこそ、チームのタイプを明確にすることが必要なのです。「このチームの顧客は誰ですか？最終顧客でしょうか？組織内の顧客なのか？このタイプのチームに期待される行動は何か。サービスを構築して運営するオーナーシップを期待されているのか、他のチームに教える役割をサポートすることを期待されているのか？」

そこから14のタイプが生まれ、異なるチームがお互いにどのように関係し、助け合うのかをより明確にすることで、ある種の組織として進化し、組織の働き方を改善するだけでなく、組織に価値をより早く提供することができるようになると考えています。

具体的には、まずストリームアラインド・チームを導入しました。つまり、これらは実行チームをベースに作られていると言えるでしょう。しかし、私たちはチームを仕事の流れに沿ったものにすべきだと考えています。つまり、多かれ少なかれ、**可能な限り切り離された仕事の流れは何かを特定する必要があります**。これは明らかに、**バリューストリームを特定するという考えに戻るもの** です。しかし、バリューストリームの中にも、複数のプロダクトがあったり、製品の中に複数のストリームがあったりする場合があります。もっと細かいレベルで言えば、特定のユーザーペルソナに焦点を当てたチームがあるかもしれませんね。例えば、大企業向けの会計ソフトであれば、個人のフリーランスのお客様とは異なるペルソナが存在しますよね。

ですから、そのようなユーザーのペルソナに合わせてストリームを作るのは理にかなっていると思います。しかし、それぞれのストリームについて、別の方法を考えることはできないでしょうか。効果的には、1つのチームが、顧客を理解し、このツリーの顧客は何を必要としているのかというディスカバリーを行い、このサービスやソフトウェアをより大きな製品の一部として、多かれ少なかれ独立して構築し、テストし、デプロイし、実行できるようなサービスやソフトウェアのライフサイクルをエンド・ツー・エンドで所有することを目指しています。依存関係がないというわけではありませんが、ソフトウェアのサービスと同じように、チームを疎結合にするアプローチを試みています。


HOST
例えば、2枚のピザのようなチームですね。これは基本的には


MP
チームのサイズは、通常、7～9人です。通常は7人から9人の間で、もっと少なくてもいいし、多くてもいいのですが、チーム内の信頼度が高いゲルチームを本当に作るには

しかし、チーム内の信頼度が高いゲルチームにするためには、そのような境界線の範囲内に収める必要があります。理想的には、異なる価値の流れ、異なる製品、異なる流れを特定し、それに合わせてチームを編成することができます。しかし、先ほど言ったように、他のタイプのチームがなかった場合、これらのチームの認知的負荷は非常に高いものになります。

さらに、これらの問題をどう処理するかという問題も出てきます。求められているすべてのことに対応し、機能を提供し、他のすべてのことについて学ぶ。

そこで、他のタイプのチームが登場します。プラットフォーム・チームでは、**必ずしもサービスやツールに重点を置くのではなく、体験としてのプラットフォームについて話し合います。** もちろん、サービスやツールは必要です。しかし、プラットフォームをどのように利用するかによって、チームの認知的負荷を軽減することができます。なぜなら、もしあなたがプラットフォーム・サービスを提供したとしても、それが非常に煩雑で、APIが期待通りに機能しないことを理解するのが難しく、サービスがしばしば利用できなかったり、メンテナンス中であったりしたら、それはチームにとってあまり良いことではなく、むしろ問題になります。

このプラットフォームサービスを利用しなければならないのですが、これは理解するのが難しいのです。プラットフォームチームの出発点は、チームのトポロジーを説明するように、認知的負荷を軽減することであり、プラットフォームに関する開発者の経験とユーザーの経験を非常に高いレベルで提供することです。

そうすることで、余計な認知的負荷をプラットフォームに移すことができるようになります。そしていいことに、プラットフォームチームにとっては、これが彼らの重要な認知的負荷になるのですね。なぜなら、彼らは社内の顧客に役立つことに取り組んでいたからです。つまり、継続的なデリバリーやインフラなどに関わるプラットフォームチームがあるかもしれません。しかし、彼らは社内のチームがチームの負荷を軽減するための合理化を支援しているのです。そして、3つ目のタイプのチームは、イネーブリングチームです。これらのチームは、私たちのコンサルティングの経験から、組織内の多くのチームが同様のギャップを抱えていることがわかりました。

例えば、効果的なテスト自動化の方法を知らないとか、継続的インテグレーションの方法を知らないとか、ユーザーエクスペリエンスを知らないとか、分野は何でもいいのです。なぜなら、すべてのチームにユーザーエクスペリエンスの専門家を雇うことはできないし、すべてのチームにテスト自動化の専門家を雇うこともできないからです。

そのため、採用に頼るのではなく、社内にイネーブルチームを設置し、2～3人の専門家を配置するのが理想的です。彼らは他のチームを支援し、指導します。ペアリングやワークショップ、ビデオベースのトレーニングなど、社内のチームが特定の分野で必要なスキルを身につけるためのあらゆる手段を用いて教えます。同時に、イネーブリングチームは、ストリームラインチームにとって有用なプラットフォームの機能やサービスを見極めることができる立場にあります。

このようにして、自分たちの目的が何であるかをよく理解し、組織全体やチームがより良くなるためにどのように貢献しているのかを理解しているさまざまなタイプのチームが集まった、いわばエコシステムのようなものができあがります。そして、4つ目のタイプのチームがありますが、実はこれはお勧めできません。奇妙に聞こえるかもしれませんが、これは複雑なサブシステムなのです。例えば、顔認識やリアルタイムの金融取引など、非常に複雑なアルゴリズムや技術を必要とする、非常にニッチで要求水準の高いタイプのサブシステムでは、たとえそれが顧客に直接使用されなくても、そのサブシステムを所有するチームが必要となる場合があります。しかし、これまで話してきたことをすべて考慮した上で、合理的なチームを求めるのは無理があるでしょう。しかし、これまで話してきたことをすべて持った上で、さらに顔認識モジュールを自分のサービスに組み込まなければならないと言うのは無理があります。このようなことは、博士号レベルの理解を必要とする傾向があるからです。認知的負荷のために頼らざるを得ないものなのです。でも、できればそれは避けたいものです。だから、DevOpsの周りに複雑なサブシステムを作れとか、Kubernetesの周りに複雑なサブシステムを作れと言っているわけではありません。そうではなくて、おそらくその技術を使うチームのプラットフォームタイプに合わせるべきだと思います。複雑なサブシステムとは、非常にニッチな知識を必要とするサブシステムを構築・運用するチームのことで、それを知っている人を簡単には見つけられません。以上、14のタイプを紹介しました。


HOST
今は、ええ、素晴らしい。これで最終的に語彙ができましたね。誰が何をしているのかという語彙を持っていることは、チームについて話すときにも非常に役立つと思います。

もちろん、イネーブリングチームの問題点は、少なくとも私の経験では、**どうやって象牙の塔になるのを避けるかということです。あるいは、そうならないようにするにはどうしたらいいか。つまり、象牙の塔にならないようにするにはどうすればいいのか**、ということですね。そしてもう1つは、本当に役に立つことです。ちょっとした手助けをすることはよくありますが、教えてもらうことはできても、ワークショップのようなものでは十分ではありません。チームと密接に協力しなければならないのです。それが、2つの苦悩です。なるほどね。それを避けるにはどうしたらいいですか？


MP
ええ、それは良い点ですね。また、もうひとつ付け加えるとすれば、イネーブリングチームが、Simulinkチームの仕事の遂行に関して依存関係になることは避けたいですよね。例えば、アプリケーションのために新しいインフラを構築する必要があるたびに、イネーブルチームに依頼しなければなりませんが、それは私たちが話しているようなイネーブルワークではありません。しかし、何が良い方法なのかを見つける必要があるでしょう。

チームをどの程度支援する必要があるのかという点では、実際には、本の中で設定したように、チームの周りを回るのが良いと思います。つまり、例えばテスト自動化を実現するチームを期待しているわけではないということです。もっと具体的に言うと、例えば同じようなチームがあって、彼らがテスト自動化の経験を持っていないとします。このチームが数週間でテスト自動化のすべてを学ぶことは期待できません。それが普通だと思います。ですから、それはあまり効果的ではありません。もっと効果的なことがあります。**イネーブル・チームが力を発揮するのは、チームの現状に合わせることです**。

もし、このチームがほとんど知識を持っていないとしたら、まずは基本的なことから始めましょう。テスト自動化ツールにはどんなものがあるのか？なぜ、ユーザーインターフェースでの詳細なアクションではなく、より高いレベルのシナリオで作業する必要があるのかなど、良い自動化テストを作るための基本的な知識を身につけましょう。すべてを教えようとするのではなく、2週間ほどかけて、彼らを助け、教え、いくつかの例でペアを組むことにしましょう。そして、2ヶ月後に戻ってきて、彼らがどうなっているかを見てみましょう。これらのアイデアを日常の仕事に応用することができましたか？ある時点で、彼らは別の課題に直面するでしょう。テストが多すぎて、パイプラインの実行に時間がかかりすぎるからです。そのため、テストをより独立したものにしたり、パフォーマンスを向上させたりといったことを考える必要があります。

チームが多くの助けを必要としている分野の場合は特に、イネーブリングチームは、このチームが今ここにいることを理解して、少しずつ助けていくべきです。彼らはこの助けを必要としています。そして、3ヶ月後には、次のステップに向けて助けが必要だとわかったのです。これが、人々が私たちに尋ねることとの大きな違いの1つで、**センター・オブ・エクセレンスのようなアプローチ** と、象牙の塔のようなアプローチです。つまり、チームが現場で活躍できるように、チームが何を必要としているかを理解しているのです。彼らは今どこにいるのか？どうすれば彼らを助けることができるのか？先ほどの象牙の塔のように、「これは誰もが従うべきグッドプラクティスだ」というものではありません。そして、このようなアーキテクチャを持つべきであり、インフラストラクチャをコードとして実行すべきであるとしています。それが役に立たないとは言いません。しかし、チームはすでに過負荷状態です。

ガイドラインだけを受け取って、それが自分たちの仕事にどのような影響を与えたのか、どうやって学んでいけばいいのでしょうか。だからこそ、依存す
ることなく、実践的なアプローチをとることができるのです。私たちは他のチームと一緒に教え、他のチームを助けていますが、彼らのために仕事をしているわけではありません。そう、彼らのために納品作業をしているわけではないのです。彼らが学び、知識を向上させるのを助けているのです。でも、私はそう思います。そうではないのです。適切なバランスを見つけるのは簡単ではありません。


HOST
私が経験した中で本当に良かったと思うのは、あなたが言ったように、彼らと本当に話し合うことです。なぜなら、ただ単に「これは何か」と言っただけでは、みんなが**「そうだね」と言うだけ**だからです。


MP
私には3人の小さな子供がいるからです。一番上の子が6歳で、もうすぐ7歳になるという例えが好きです。この例えは、彼の宿題を手伝おうとしているときのものです。もし彼が問題を抱えていたら、「7＋6はいくら？」もちろん、私は彼に13だと言って、それを書き留めることができます。しかし、それでは彼の助けにはなりません。次の機会のために。彼にはまた別の宿題があります。この場合、専門家である私たちにとっては当たり前のことなので、簡単なことではありません。

しかし、彼の心の中の思考プロセスを理解するのは簡単ではありません。彼がその計算をするのは何が難しいのか？そのためには、これを数字に足す方法を知っているかどうか、頭の中でどうやって計算しているのか、というところから掘り下げていく必要があります。自分の頭の中でどうやって計算するのか、相手や他のチームがどこにいるのかを理解しなければなりません。これは象牙の塔では通常行われないことです。みんなが全部同じであることを期待しているのです。こういうやり方を採用すればいいんだと。しかし、実際にはそれほど簡単ではありません。


HOST
もう1つ興味深かったのは、イネーブリングチームがたくさんある場合、です。なぜなら合理化されたチームであってやることに溢れていたらオーバーロードしてしまうからです。

例えば、あるチームのパフォーマンステストやキャパシティテストを手伝ったことがあります。彼らは本当に右往左往していました。彼らは毎晩のようにパフォーマンステストを自動化していました。しかし、他の多くの分野、例えば統合テストのような通常のテストの自動化や、セキュリティについては、基本的にゼロで、あまり興味を示さず、他のイネーブリングチームを妨害していました。そこで私たちは、チームが本当に必要としているものを全体的に理解する必要があると考えました。多くのセキュリティが必要なのか、これが必要なのか。なぜなら、チームを有効にするためには、ある時点で立ち止まり、「よし、我々はもっとうまくやれるはずだ」と言う必要があるからです。しかしまだ他にも、改善すべき点があるのではないでしょうか？


MP
そうですね。一方では、チームが自分たちの知っていることにより多くを頼るのは自然なことでもあります。つまり、この例では、パフォーマンステストのやり方を知っているので、そちらに重点を置いています。だからこそ、まず認知的負荷の側面を理解することが重要なのです。認知的負荷とは、スキルがないためにやっていない分野を見ている、という意味でもありますね。

授業のテストをしていないのは、知識がないからだとか、その他の理由です。ですから、そういったさまざまな領域で改善していきたいと考えています。昨日のTwitterのスレッドを思い出しましたが、ある組織では、クロスファンクショナルチームという考えを文字通りの意味で捉えていて、UXエキスパート、テストオートメーション、パフォーマンステスターなどのチームが必要だとしています。その結果、15人のチームになってしまうのです。

人ですが、それは問題ではありません。つまり、あなたが言いたいことは、まずチームはそれぞれ違うということを理解する必要があります。あるチームはテストに問題があり、別のチームはアーキテクチャに問題があるなどです。だから、すべてのチームを同じように扱おうとしても、なかなかうまくいかないのです。チームごとに異なるギャップがあることを理解し、段階的に支援していく必要があります。全員がすべての分野のエキスパートになるとは言いません。

そうですね。一方では、チームが自分たちの知っていることにより多くを頼るのは自然なことでもあります。つまり、この例では、パフォーマンステストのやり方を知っているので、そちらに重点を置いています。だからこそ、まず認知的負荷の側面を理解することが重要なのです。認知的負荷とは、スキルがないためにやっていない分野を見ている、という意味でもありますね。

授業のテストをしていないのは、知識がないからだとか、その他の理由です。ですから、そういったさまざまな領域で改善していきたいと考えています。昨日のTwitterのスレッドを思い出しましたが、ある組織では、クロスファンクショナルチームという考えを文字通りの意味で捉えていて、UXエキスパート、テストオートメーション、パフォーマンステスターなどのチームが必要だとしています。その結果、15人のチームになってしまうのです。

人ですが、それは問題ではありません。つまり、あなたが言いたいことは、まずチームはそれぞれ違うということを理解する必要があります。あるチームはテストに問題があり、別のチームはアーキテクチャに問題があるなどです。

チームごとに異なるギャップがあることを理解し、段階的に支援する必要があるのです。

しかし、そのギャップを明確にする必要があります。例えば、あなたの例では、このチームには統合テストに関するギャップがあります。これは、複数のチームにまたがって存在するギャップであり、イネーブリングチームを設置する意味がないのではないでしょうか？あるいは、1つのチームだけの問題であれば、どのように対処すればよいでしょうか。チームのスピードを上げるために、誰かを雇うことを考えてみてはどうでしょうか？あるいは、統合テストのアプローチがうまくいっている、合理化された別のチームを想定して、そのチームの誰かと一緒にファシリテーション作業を行うこともできるでしょう。このように、ギャップを減らすにはさまざまな方法が考えられます。

実際、イネーブル・チームは、この本が出版された後の私の経験では、より多くの疑問を生むタイプのチームの1つです。また、組織によっては、なぜイネーブル・チームに投資する必要があるのか、最初からイネーブル・チームを作らなくても問題ないのか、ということが明確ではありません。この本では、インタラクション・モードについても触れられています。つまり、他のストリームラインチームに所属している人が、他のチームを助けるために、ファシリテーターとして、2週間とか1週間に1日とか、2～3ヶ月とか、意味のある時間を費やして、他のチームがこのドメインについて学ぶのを助けることができるのです。これがファシリテートと呼ばれるものです。プラットフォームチームは、インフラストラクチャの自動化などの専門家であるため、Similanチームが単にプラットフォームを使用するだけでなく、インフラストラクチャの自動化に関するグッドプラクティスを理解するのを手助けすることができます。

チーム内のギャップに対処する必要があり、スキルアップの方法を見つけなければなりません。そして、それぞれのギャップに応じて、イネーブルチームが必要なのか、他のストリームラインチームのファシリテーションが必要なのか、プラットフォームチームの助けが必要なのかなど、意味のあることを見つけていきます。つまり、さまざまな方法があるということです。確信が持てない場合は、イネーブルチームを作る必要があるかもしれませんが、それは必ずしも専任チームである必要はなく、最初に何らかのファシリテーションを行うだけでも構いません。


Host
今、プラットフォームとプラットフォームチームの話が出ましたね。各企業にはボットのプラットフォームチームがあるようですね。このプラットフォームチームが何をしているのかというと、ただ単にインフラを提供したり、アカウントを作ったり、Kubernetesのメンテナンスをしたりするだけで、実際には明確ではありません。では、プラットフォームチームは何をしているのでしょうか？目的は何ですか？


MP
だろう？このようなプラットフォームチームをよく目にしますが、明らかにプラットフォームは過負荷な用語です。しかし、より自立して成果を出せるチームを作るということであれば、仕事の実行中に依存関係があってはいけません。他のチームに依存して、インフラを用意してもらったり、ファイアウォールのポートを開けてもらったり、こういったリクエストベースの仕事をしてもらっては困るのです。つまり、チームトポロジーにおけるプラットフォームチームは、リクエストに応えたり、他のチームに代わって何かをしたり、サービスの運用面を維持したりするチームではありません。彼らが行っているのは、プラットフォームを製品として扱うことです。つまり、プラットフォームサービスという形で製品を提供しているという考え方です。お客さまである社内のチームに。私たちがどんな色のどんな種類の製品でも、自分たちの生活を楽にするために使うのと同じように、プラットフォームチームの実行作業に直接依存することなく、この製品を使うことができるはずです。そうすると、依存関係が増えるだけで、リクエストに対応するプラットフォームチームが優先順位をつけなければならないという問題が発生し、チームが他のチームを待っているというコンフリクトが発生します。

高速なフローを実現するためには、このような状況を回避したいと考えています。Pivotal LabsのメンバーやRed Hatなどが話していたように、プラットフォームという製品アイデアは、決して新しいものではありません。このプラットフォームは、非常に高いユーザーエクスペリエンスと簡単な操作性を備え、社内チームのニーズに対応する方法で提供されます。しかし、ブロック化された依存関係ではなく、プラットフォームチームがやってくれるのを待っているわけではありません。チームがプラットフォームを使用する前には、インフラやデプロイメントについて理解する必要があるでしょう。しかし、プラットフォーム・サービスは、その手助けをしてくれるのです。認知的な負担が少なくてすみます。


HOST
つまり、プロダクトであるべきだと言われれば、私はそれを読んだときに「そうだな」と思いました。でも、これは本当に難しいことなんです。プロダクトがあって、そのプロダクトに必要な社内の顧客がいて、プロダクトマネージャーが必要で、おそらくサービスサポートやその他もろもろが必要だと思います。だから、自分がしなければならないことをすべて考える必要があります。Nikkiが言っていた、コミュニティの努力というのは、またしても「Ivory Tower」に行かなければなりません。

プロダクトマネージャーや社内の人間が、社内の顧客と話をして、例えばロードマップのようなものを作成し、社内の顧客全員が何かを実行してロードマップを検証する。ですから、本当に大変だと思います。しかし、それはおそらく唯一必要なことであり、唯一、おそらくうまくいくことだと思います。ですから、もし


MP
ところで、Nikki Watts氏は、プラットフォームがサービスを提供するコミュニティに焦点を当てているという、あなたが言った素晴らしい講演をしています。実は、私がまだInfoQでDevOpsのリーダーとして働いていたとき、最後にキュレーションした記事のひとつが、この講演をもとにした彼女の記事でした。この記事は、ショーノートに追加することができますので、お勧めします。そうですね、この種のプラットフォームチームにとっての主な困難の1つは、製品管理アプローチの欠如です。この種のプラットフォームの技術的な詳細を理解している製品担当者を見つけるのは容易ではありません。しかし、これは非常に重要なことです。私たちはよくお客様に、ジュニア・プロダクトマネージャーをプラットフォームに配置するのではなく、おそらく**最高の、より経験豊富なプロダクトマネージャーをプラットフォームに配置することをお勧めしています**。

ですから、本の中では明らかに、あまり拡大できませんでした。しかし現在、チームトポロジー・アカデミーで「製品としてのプラットフォーム」というビデオベースのトレーニングを公開しようとしています。これは、プラットフォームチームに関する他のコースの最初のものになるかもしれません。

しかし、まず最初に必要なのは、製品や考え方をプラットフォームに適用することですね？つまり、組織内にはさまざまなタイプの顧客がいることを理解し、製品の採用ライフサイクルを理解する必要があるのです。最初のバージョンのサービスをプラットフォームに載せても、誰もがそれに飛びつくわけではありませんから、他のチームが採用する際に何が摩擦になるかを理解する必要があります。

だから、あなたが言ったように、強力なプロダクトマネジメントが必要なのです。しかし、行き過ぎにも注意が必要です。私は、巨大なロードマップを持っているプラットフォームチームを見たことがあります。プラットフォームチームが巨大なロードマップを持っていて、そこにストリームラインチームがやってきて、「これを手伝ってほしい」と言います。すると彼らは、「我々は今後6ヶ月間は忙しかったし、それでは本当の意味で顧客にフォーカスしていないのではないか？だから、気をつけないといけない。もし、プラットフォーム・チームが忙しすぎて、ストリームライン・チームと会話ができないとしたら、それは何か間違ったことをしているのではないかと思います。また、ロードマップが半年や1年で、軌道修正の柔軟性がない場合も同様です。


HOST
そうですね。番組ノートには、あなたのコースへのリンクもすべて掲載していますので、ぜひご覧ください。質問がたくさんあるので、そちらにも行ってみようと思います。最後にもうひとつ、プラットフォームについての質問があるかもしれません。私はいつも思うのですが、プラットフォームはX-As a Serviceのようなもので、私はセルフサービスを持っていますが、プラットフォームは常にセルフサービスであるというのは本当ですか？


MP
イエスかノーか？それはおそらく、プラットフォームの働き方の目標のようなものですよね？プラットフォームのサービスを、サービスごとに言うと、使いやすく、初めてサービスを利用する人にもわかりやすく、適切なドキュメントがあり、基本的にはAWSのサービスに期待することができるレベルになったら、Google Cloudやこれらの大手プロバイダーで利用することができます。あなたが期待しているのは、acts as a serviceの形で利用することですよね？実際にAWSのエンジニアと話をしなくても、セルフサービスで、例を見て仕組みを理解し、使うことができるようになります。これが目標です。

しかし、もうひとつ必要なことがあります。それは、プラットフォーム間のコラボレーションによるチームの効率化です。

なぜなら、新しいニーズが発生し、ストリームライン・チームが言うか、イネーブル・チームがプラットフォーム・チームに「ここにギャップがあって、プラットフォームが何らかの機能やAPIで助けてくれると便利だと思う」と言うと、プラットフォーム・チームは顧客であるストリームライン・チームとアジャイル的にコラボレーションする必要があるからです。

そして、迅速なフィードバックを得て、プロトタイプを作成することが必要です。これはあなたが必要としているものですか？いやいや、それは私たちがお互いに誤解していただけです。プラットフォームでは、このようなことが起こらないようにしたいのです。プラットフォームのチームが、ストリームラインのチームと同じように、顧客に対して実際に仕事をするようにしたいのです。

つまり、プラットフォームは実際にはチームのグループになっていて、特にプラットフォームが成長すると、プラットフォーム自体の中に異なるサービスやストリームが存在するようになります。まるでロシア人形のようですね。プラットフォームの中にも同じようなチームがあり、継続的なデリバリーサービスに関連するチームと、プロビジョニングサービスに関連するチームがあるかもしれませんし、データレベルやビジネスレベルのサービスがあるかもしれません。


Host
観測性などですね。


MP
しかし、サービスに変更を加えたり、新しいサービスを作成したり、新しい機能を追加したりする必要がある場合、プラットフォームチームのコラボレーションには、この2つの典型的な相互作用モードがあります。チームにはそれが必要だからです。

そのため、他のチームが利用できるようにするための準備がいつ整ったのかを理解するために、反復的にコラボレーションを行う必要があります。
そして、サービスとしての役割を果たすのです。この2つの間を常に交互に行き来することになります。安定していて使いやすいサービスがあったとしても、新しい機能が追加されたとします。

だから、今はまたコラボレーション・モードになっています。そうすると、少なくともその機能については、再び使えるようになるまで、このサイクルとフィードバックが必要だということを理解する必要があります。そうすれば、サービスとして機能するようになるでしょう。そして、それがどれだけ優れたサービスであるかを、自分でモニターする方法があります。もし、この機能やサービスが社内で一般的に利用できるようになったと言っても、多くのサポートリクエストが寄せられるようになり、人々が使い方を理解できなかったり、多くのエラーが発生したりした場合、おそらく、サービスへのアクセスを可能にするのが早すぎたのではないかと思います。


Host
のようになりました。そうですね、つまり、x as a serviceを常に考え出すことも非常に難しいのです。プラットフォームについて考えてみると、Kubernetesを使っていた人が、今度はAWS lambdaを使いたいと言い出したとします。それを「使いたい」と言われて、「じゃあ、作りました」と言っても、使えるようになるまでには時間がかかりますよね。

だから、段階的に進める方が簡単だと思います。「スピードアップしますので、すべてを理解してください」と言って、そのコラボレーションの中で、何かを自動化する必要があるかどうか、つまり何かをサービスとして提供する必要があるかどうかを確認します。もしそうでなければ、そうしません。そして、もしあなたがサービスを利用した際には、ここに戻ってきて、もしサポートチケットが多ければ、作業を行います。


MP
プラットフォームチームはまず、ストリームに沿ったチームの意見に耳を傾け、優先順位をつける必要があります。もちろん、優先順位はニーズに基づいたものであり、「みんながKubernetesを使っているから、自分も使わないといけない」というものではありません。しかし、優先順位付けはニーズに基づいて行われます。実際にAWS lambdaの必要性があるのか？

もし、ストリームラインチームからリクエストがあった場合、まず耳を傾け、なぜそれが必要なのかを理解しようとする必要があります。その上で、優先順位をつける必要があります。

繰り返しになりますが、プラットフォームが成功すれば、どのチームからも多くの要望が寄せられるようになるので、それを実現するには優れたプロダクトマネジメントが必要です。例えば、ストリームラインのチームが、別のツールや別のアプローチが必要だと考えている場合があります。彼らには、それが価値をもたらすと信じているからこそ、自分たちでコストをかけて実行するという選択肢があるべきなのです。 では、「いや、それはプラットフォームチームにしかできないことだ」と言って止めてはいけません。インフラに関わることだから」と言ってはいけません。




そうではありません。ストリームalignチームが、新しいアプローチを開拓することは可能ですし、それはとても意味のあることです。他のチームの人が聞いたからといって、プラットフォームチームがいろいろな新しいツールを試すことに意味があるのでしょうか？**それは、プラットフォームチームの目的ではありません**。

プラットフォームチームは、製品の優先順位付けや顧客の声に耳を傾けるなど、今日チームが行っている作業に基づいて特定のニーズを支援するべきですが、プラットフォームを製品として扱い、優先順位をつけ、顧客の声に耳を傾けることはもちろんですが、ストリームアラインドチームが率先して、ニーズやリクエストを最初に受けたものに先駆的に対応することも止めてはいけません。

あるクライアントの例ですが、彼らはさまざまな業界の広告を扱っています。そのため、さまざまな業界のチームを組織しています。そして、あるチームは、広告に動画を掲載する最初のチームになる必要がありました。普通なら、動画処理をサポートするプラットフォームの一部として意味があるかもしれないと思うでしょう。**しかし、あるチームのためにプラットフォームチームにこれを依頼することは、今は意味がありません**。そこで、ストリームアラインドのチームが率先して、自分たちのニーズに合わせてこれを行うべきなのです。そのうち、他のチームにも必要になるかもしれません。その時に、このコードをプラットフォームに入れて、他の多くのチームが使えるようにすることで、コード間のコモディティ化というか、そういうことができるかどうかを考えます。結局のところ、「これはプラットフォームチームにしかできない」というような非常に厳しい境界線を設けずに、必要なことを実現し、実行するためのより良い方法を見つけるということです。

Host
そうですね。さて、そろそろ終わりに近づいてきましたね。インタラクション・モードについてはすでに言及され、基本的には説明されましたが、実際のモードがどのように存在するのか、あるいはどのようなものなのかを知るために、少しまとめてみるのも良いかもしれません。あるいは何をすべきか


MP
このモードについては、3つの話があります。1つ目は「協力」ですが、より明確に定義されているという意味です。つまり、単なるオープンエンドの協力ではないということです。チームが「他のチームと協力しています」と言うことがあります。しかし、本当の意味では、あるチームと関係を持ち、時には一緒に仕事をすることもあるのです。私たちはコラボレーションを、2つのチームが特定の期間、特定の目的のために協力することと定義しています。例えば、デプロイメントを自動化する方法を見つけなければならない、とかね。しかし、それは何でもいいのです。つまり、特定の問題を解決するためのコラボレーションです。次にファシリテーターですが、これはイネーブルチームの典型的な例と述べましたが、ストリーム・アラインド・チーム間でも起こり得ます。

チームとは別に、流れに沿ったチームの間でも起こりえます。あるチームがある分野の専門知識を持っていて、別のチームが助けを必要としているときには、ファシリテーションを行うことができます。ここでも、決められた期間（変更することもできますが）の間、これはオープンエンドの相互作用ではなく、2週間かかることを想定しています。

私たちは絶対的な専門家ではないので、たとえあなたのことを最も批判したとしても、絶対的な専門家になることはないと思います。


HOST
それでは、最後に2つほど質問させてください。私はスタートアップのような小さな組織を知っています。何を採用すればいいですか？プラットフォームチームはお金も何もありませんが、小さな組織で働く私には何ができるでしょうか？


MP
